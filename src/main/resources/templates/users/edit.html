<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">

  <head>
    <meta charset="UTF-8">
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
    <title>ProtoSpace</title>
  </head>

  <body>

    <div th:insert="~{header :: header}"></div>

    <div class="main_contents">
      <div class="container_Form">
        <h2>ユーザープロフィール編集</h2>
        <form th:method="post" th:action="@{/users/{userId}/update(userId = ${userId})}" th:object="${userForm}"
          enctype="multipart/form-data" class="new_user">

          <div class="field">
            <label class="column-title">名前</label><br />
            <input th:field="*{username}" type="text" id="username" name="username" autofocus="autofocus" />
            <div th:if="${#fields.hasErrors('username')}" th:text="＊ + ${fieldErrors['username']}"
              class="error_message">
            </div>
          </div>

          <div class="field">
            <label class="profile">プロフィール</label><br />
            <textarea th:field="*{profile}" class="text" id="profile" name="text"></textarea>
            <div th:if="${#fields.hasErrors('profile')}" th:text="＊ + ${fieldErrors['profile']}" class="error_message">
            </div>
          </div>

          <div class="field">
            <label class="profileImage">プロフィール画像</label><br />
            <input th:field="*{profileImage}" type="file" name="image" id="profileImage" accept="image/*" />
            <div th:if="${#fields.hasErrors('profileImage')}" th:text="＊ + ${fieldErrors['profileImage']}"
              class="error_message">
            </div>
          </div>

          <div class="field">
            <div class='field-label'>
              <label for="url">X URL</label><br />
            </div>
            <input style='width:26em' th:field="*{x}" type="url" name="url" id="url"
              placeholder="https://x.com/'＜your-account-name＞'" pattern="https://.*" />
            <div th:if="${#fields.hasErrors('x')}" th:text="＊ + ${fieldErrors['x']}" class="error_message">
            </div>
          </div>

          <div class="field">
            <div class='field-label'>
              <label for="url">Facebook URL</label><br />
            </div>
            <input style='width:26em' th:field="*{facebook}" type="url" name="url" id="url"
              placeholder="https://www.facebook.com/'＜your-account-name＞'" pattern="https://.*" />
            <div th:if="${#fields.hasErrors('facebook')}" th:text="＊ + ${fieldErrors['facebook']}"
              class="error_message">
            </div>
          </div>


          <div class="actions">
            <input type="submit" value="保存する">
          </div>
        </form>
      </div>
    </div>

    <div th:insert="~{footer :: footer}"></div>

  </body>

</html>